<html>

	<head>
		<title>eth proxy test</title>
	</head>

<body>

<script src="eth.js"></script>

:)


<script type="text/javascript">
<!--
	var proxy = new eth();
	
	function init() { setInterval("update()", 4000); }

	function handleError(err) {
		alert(err);
	}

	function update()
	{
		proxy.update(function(s) {
			var d = document.getElementById('display');
			if(s != null) {
				/*
				var blocks = s.blocks;
				d.innerHTML = "";
				for (i = 0; i < blocks.length; i++) {
					d.innerHTML += blocks[i].number + "   ";
					d.innerHTML += blocks[i].hash + "   ";
					d.innerHTML += "\n";
				}*/
				
				var contracts = s.contracts;
				d.innerHTML = "";
				for (i = 0; i < contracts.length; i++) {
					d.innerHTML += contracts[i].address + "   ";
					d.innerHTML += "(" + contracts[i].balance + ")";
					d.innerHTML += "\n";
				}
			}
		}, handleError);
	}
	
//-->
</script>


<div id="display" style="font-family:monospace; white-space: pre; width:800px; height:500px; overflow-y:scroll; margin-left:auto; margin-right:auto; border:1px solid #000000;"></div>

<div style="width:800px; height:500px; margin-left:auto; margin-right:auto;">
	<input type="button" name="cmd" value="Update" onclick="update();">
</div>

</body>
</html>